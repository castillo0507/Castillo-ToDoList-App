<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Castillo's TO-DO List</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;600&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
    <!-- Header Bar -->
    <header class="header">
        <div class="header-left">
            <div class="logo">
                <div class="logo-icon">
                    <svg viewBox="0 0 48 48" width="40" height="40">
                        <rect x="4" y="4" width="40" height="40" rx="8" fill="#4285f4"/>
                        <path d="M14 24l6 6 14-14" stroke="white" stroke-width="4" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                        <rect x="12" y="30" width="24" height="3" rx="1.5" fill="white" opacity="0.7"/>
                        <rect x="12" y="36" width="16" height="3" rx="1.5" fill="white" opacity="0.5"/>
                    </svg>
                </div>
                <span class="logo-text">Castillo's TO-DO List</span>
            </div>
        </div>
        <div class="search-bar">
            <span class="material-icons search-icon">search</span>
            <input type="text" placeholder="Search notes..." class="search-input" id="searchInput" oninput="searchNotes()">
        </div>
        <div class="header-right">
            <div class="selection-controls" id="selectionControls">
                <span id="selectedCount">0 selected</span>
                <button class="delete-selected-btn" onclick="deleteSelectedNotes()" title="Delete Selected">
                    <span class="material-icons">delete</span>
                    Delete
                </button>
                <button class="icon-btn" onclick="clearSelection()" title="Cancel">
                    <span class="material-icons">close</span>
                </button>
            </div>
            <button class="icon-btn" id="selectAllNotesBtn" onclick="toggleSelectAllNotes()" title="Select Notes">
                <span class="material-icons">check_box_outline_blank</span>
            </button>
            <button class="icon-btn" onclick="location.reload()" title="Refresh">
                <span class="material-icons">refresh</span>
            </button>
            <button class="icon-btn" id="viewToggle" onclick="toggleView()" title="Toggle view">
                <span class="material-icons">view_module</span>
            </button>
            <button class="icon-btn" id="themeToggle" onclick="cycleTheme()" title="Change theme">
                <span class="material-icons">palette</span>
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Create New Note -->
        <div class="note-input-container">
            <div class="note-input" id="noteInput">
                <input type="text" id="noteTitleInput" placeholder="Title (e.g., Monday, Shopping, Work...)" maxlength="50">
                <div class="task-input-row">
                    <span class="material-icons">add</span>
                    <input type="text" id="taskInput" placeholder="Add a task..." maxlength="100">
                </div>
                <div id="pendingTasks" class="pending-tasks"></div>
                <div class="note-input-actions">
                    <div class="color-picker">
                        <button class="color-dot color-white active" data-color="white" onclick="selectColor('white')"></button>
                        <button class="color-dot color-yellow" data-color="yellow" onclick="selectColor('yellow')"></button>
                        <button class="color-dot color-orange" data-color="orange" onclick="selectColor('orange')"></button>
                        <button class="color-dot color-teal" data-color="teal" onclick="selectColor('teal')"></button>
                        <button class="color-dot color-pink" data-color="pink" onclick="selectColor('pink')"></button>
                    </div>
                    <button class="add-btn" onclick="createNote()">
                        <span class="material-icons">note_add</span>
                        Create Note
                    </button>
                </div>
            </div>
        </div>

        <!-- Notes Section -->
        <div class="tasks-section">
            <div id="notesList" class="notes-grid">
                <!-- Notes will be added here dynamically -->
            </div>
        </div>

        <!-- Stats Footer -->
        <div class="stats">
            <span id="taskCount">0 notes</span>
        </div>
    </main>

    <!-- Edit Modal -->
    <div id="editModal" class="modal" onclick="closeModalOnBackdrop(event)">
        <div class="modal-content">
            <input type="text" id="editNoteTitle" class="edit-title-input" placeholder="Note title...">
            <div id="editTasksList" class="edit-tasks-list"></div>
            <div class="add-task-row">
                <span class="material-icons">add</span>
                <input type="text" id="editNewTask" placeholder="Add another task..." onkeypress="handleEditTaskKeypress(event)">
            </div>
            <button class="select-all-btn" onclick="selectAllInModal()">
                <span class="material-icons">checklist</span>
                Select All
            </button>
            <div class="modal-actions">
                <div class="color-picker">
                    <button class="color-dot color-white" data-color="white" onclick="selectEditColor('white')"></button>
                    <button class="color-dot color-yellow" data-color="yellow" onclick="selectEditColor('yellow')"></button>
                    <button class="color-dot color-orange" data-color="orange" onclick="selectEditColor('orange')"></button>
                    <button class="color-dot color-teal" data-color="teal" onclick="selectEditColor('teal')"></button>
                    <button class="color-dot color-pink" data-color="pink" onclick="selectEditColor('pink')"></button>
                </div>
                <button class="save-btn" onclick="saveNoteEdit()">
                    <span class="material-icons">done</span>
                    Save
                </button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
